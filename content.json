{"meta":{"title":"Hexo","subtitle":null,"description":null,"author":"John Doe","url":"http://yoursite.com"},"pages":[],"posts":[{"title":"Stackdriver 監控","slug":"Stackdriver-監控","date":"2018-08-06T09:00:23.000Z","updated":"2018-09-06T16:13:34.927Z","comments":true,"path":"2018/08/06/Stackdriver-監控/","link":"","permalink":"http://yoursite.com/2018/08/06/Stackdriver-監控/","excerpt":"","text":"一、建立 Stackdriver 帳號開始監控前須先建立Stackdriver帳號 Monitoring Overview 安裝 monitoring agent 與 logging agentWindows 下載連結Monitoring aggentLogging agent Linux指令123456# To install the Stackdriver monitoring agent:$ curl -sSO https://dl.google.com/cloudagents/install-monitoring-agent.sh$ sudo bash install-monitoring-agent.sh# To install the Stackdriver logging agent:$ curl -sSO https://dl.google.com/cloudagents/install-logging-agent.sh$ sudo bash install-logging-agent.sh 二、Resources - Metrics ExplorerMetric設定Resource types：監控的資源Select a metric：選擇監控該資源的指標 View Options依喜好調整圖表的模式、參考值、歷史資料…等設定。 調整線圖模型 三、建立Group 四、Uptime Check透過從世界各地來驗證服務的可用性，經過的地區有維吉尼亞州、奧勒岡州、愛荷華州、比利時、新加坡、聖保羅，每個Stackdriver帳戶最多可建立100個Uptime Checks，第一次建立需等候一段時間。以下以驗證HTTP來作示範。 建立VM（Linux）並允許http、https流量 安裝 Apache2 HTTP Server 123sudo apt-get updatesudo apt-get install apache2 php7.0sudo service apache2 restart 測試Apache服務是否起來：「http://[外部IP]」 建立Uptime Check，Check Type選擇HTTP，監控範圍選擇Group後可先Test看是否可運作。 五、新增告警Conditions：設定監控instance、LB…等條件Notifications：告警通知可選擇Email、簡訊、Slack…等通知方式Documentation：設定當觸發告警時，發送email時的訊息內容Name this policy：命名該告警政策名稱 告警mail 六、建立Dashboards進入Dashboard點選「ADD CHART」，在METRIC選擇「Resoruce type」與「Metric」並save即完成一張圖表。 變更Dashboard名稱 查看圖表 公開分享圖表分享的圖表URL可直接分享給其他人 View Log Public Charts可查看公開分享的圖表資料，也可點 Unshare 取消分享。","categories":[],"tags":[]},{"title":"Stackdriver介紹","slug":"Stackdriver簡介","date":"2018-07-27T13:55:07.000Z","updated":"2018-09-05T14:07:40.775Z","comments":true,"path":"2018/07/27/Stackdriver簡介/","link":"","permalink":"http://yoursite.com/2018/07/27/Stackdriver簡介/","excerpt":"","text":"Stackdriver功能介紹針對雲端應用程式而打造，可監控、記錄與診斷雲端應用程式的健康狀態、效能和可用性，更快速地找出問題並加以修復，除了監控GCP，也可以加入監控AWS。 定價Stackdriver 提供基本級和進階級。進階級採統一費率，每項應收費的監控資源每月 $8.00 美元，未達 1 個月則按照使用小時比例計算。 自 2018 年 6 月 30 日起，Stackdriver 將改為按用量計費制，計價費率是依使用者的使用量和費用計算，用多少就付多少。Stackdriver有提供Monitoring與Logging的免費配額： Monitoring可清楚監控雲端應用程式的效能、運作時間與整體健康狀態，蒐集GCP VM裡背景運作的服務到GCP來監控。若安裝 monitoring agent 可以訪問額外的系統資源和應用服務以及Third-party Applications，即使不安裝 monitoring agent，也可以監控disk、cpu、network、process…等資源。 Logging儲存、搜尋、分析、監控 GCP 與 AWS 的記錄資料與事件，可即時分析所有記錄資料。若安裝 logging agent 可以蒐集第三方應用程式和系統應用程式的log，預設的logs清單。 `","categories":[],"tags":[]}]}